[toc]

```
app/src/main/java/com/ovopark/cloudpos/
â”‚
â”œâ”€â”€ ğŸ§  core/                        # æ ¸å¿ƒåŸºç¡€è®¾æ–½å±‚ï¼ˆä¸ä¸šåŠ¡æ— å…³ï¼‰
â”‚   â”œâ”€â”€ architecture/               # æ¶æ„åŸºç¡€
â”‚   â”‚   â”œâ”€â”€ base/                   # åŸºç¡€æŠ½è±¡ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseUseCase.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseStateMachine.kt
â”‚   â”‚   â”‚   â””â”€â”€ BaseException.kt
â”‚   â”‚   â”œâ”€â”€ result/                 # ç»“æœå°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ Result.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ Resource.kt
â”‚   â”‚   â”‚   â””â”€â”€ ApiResult.kt
â”‚   â”‚   â””â”€â”€ state/                  # çŠ¶æ€ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ StateFlow.kt
â”‚   â”‚       â””â”€â”€ StateMachine.kt
â”‚   â”œâ”€â”€ network/                    # ç½‘ç»œåŸºç¡€è®¾æ–½
â”‚   â”‚   â”œâ”€â”€ NetworkMonitor.kt       # å…¨å±€ç½‘ç»œç›‘æ§
â”‚   â”‚   â”œâ”€â”€ ConnectivityObserver.kt
â”‚   â”‚   â””â”€â”€ ConnectionState.kt
â”‚   â”œâ”€â”€ logging/                    # æ—¥å¿—åŸºç¡€è®¾æ–½
â”‚   â”‚   â”œâ”€â”€ Logger.kt
â”‚   â”‚   â”œâ”€â”€ LogLevel.kt
â”‚   â”‚   â””â”€â”€ CrashReporter.kt
â”‚   â”œâ”€â”€ security/                   # å®‰å…¨åŸºç¡€è®¾æ–½
â”‚   â”‚   â”œâ”€â”€ Crypto.kt
â”‚   â”‚   â””â”€â”€ DeviceAuth.kt
â”‚   â””â”€â”€ storage/                    # å­˜å‚¨åŸºç¡€è®¾æ–½
â”‚       â”œâ”€â”€ PreferenceManager.kt
â”‚       â””â”€â”€ CacheManager.kt
â”‚
â”œâ”€â”€ ğŸ¯ features/                    # ä¸šåŠ¡åŠŸèƒ½æ¨¡å—ï¼ˆå‚ç›´åˆ‡åˆ†ï¼‰
â”‚   â”œâ”€â”€ authentication/            # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/IAuthRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ usecase/LoginUseCase.kt
â”‚   â”‚   â”‚   â””â”€â”€ model/AuthToken.kt
â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/AuthRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ remote/AuthService.kt
â”‚   â”‚   â”‚   â””â”€â”€ local/AuthStorage.kt
â”‚   â”‚   â”œâ”€â”€ presentation/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/LoginActivity.kt
â”‚   â”‚   â”‚   â””â”€â”€ viewmodel/LoginViewModel.kt
â”‚   â”‚   â””â”€â”€ di/AuthModule.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ payment/                    # æ”¯ä»˜æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/IPaymentRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ usecase/ProcessPaymentUseCase.kt
â”‚   â”‚   â”‚   â””â”€â”€ model/PaymentOrder.kt
â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/PaymentRepository.kt
â”‚   â”‚   â”‚   â””â”€â”€ remote/PaymentService.kt
â”‚   â”‚   â”œâ”€â”€ presentation/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/PaymentFragment.kt
â”‚   â”‚   â”‚   â””â”€â”€ viewmodel/PaymentViewModel.kt
â”‚   â”‚   â””â”€â”€ di/PaymentModule.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ scanner/                    # æ‰«ç æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/IScannerRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ usecase/ScanProductUseCase.kt
â”‚   â”‚   â”‚   â””â”€â”€ model/Product.kt
â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/ScannerRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ manager/KeyboardScannerManager.kt
â”‚   â”‚   â”‚   â””â”€â”€ remote/ProductService.kt
â”‚   â”‚   â”œâ”€â”€ presentation/
â”‚   â”‚   â”‚   â””â”€â”€ viewmodel/ScannerViewModel.kt
â”‚   â”‚   â””â”€â”€ di/ScannerModule.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ device/                     # è®¾å¤‡ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/IDeviceRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ usecase/GetDeviceInfoUseCase.kt
â”‚   â”‚   â”‚   â””â”€â”€ model/DeviceInfo.kt
â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/DeviceRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ manager/DeviceManager.kt
â”‚   â”‚   â”‚   â””â”€â”€ provider/SystemInfoProvider.kt
â”‚   â”‚   â””â”€â”€ di/DeviceModule.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ dms/                        # DMSå¿ƒè·³æ¨¡å— â­
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/IDMSRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ usecase/ConnectDMSUseCase.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ usecase/SendHeartbeatUseCase.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ usecase/ProcessCommandUseCase.kt
â”‚   â”‚   â”‚   â””â”€â”€ model/
â”‚   â”‚   â”‚       â”œâ”€â”€ DMSCommand.kt
â”‚   â”‚   â”‚       â”œâ”€â”€ HeartbeatData.kt
â”‚   â”‚   â”‚       â””â”€â”€ CommandResult.kt
â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/DMSRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ manager/MqttConnectionManager.kt    # å…¨å±€å•ä¾‹
â”‚   â”‚   â”‚   â”œâ”€â”€ processor/CommandProcessor.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ provider/DeviceInfoProvider.kt
â”‚   â”‚   â”‚   â””â”€â”€ remote/
â”‚   â”‚   â”‚       â”œâ”€â”€ MqttMessageParser.kt
â”‚   â”‚   â”‚       â””â”€â”€ model/MqttMessage.kt
â”‚   â”‚   â”œâ”€â”€ infrastructure/
â”‚   â”‚   â”‚   â”œâ”€â”€ statemachine/DMSStateMachine.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ reconnection/ReconnectionManager.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ exception/DMSExceptionHandler.kt
â”‚   â”‚   â”‚   â””â”€â”€ watchdog/ServiceWatchdog.kt
â”‚   â”‚   â”œâ”€â”€ presentation/
â”‚   â”‚   â”‚   â””â”€â”€ service/DMSLifecycleService.kt
â”‚   â”‚   â””â”€â”€ di/DMSModule.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ update/                     # åº”ç”¨æ›´æ–°æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/IUpdateRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ usecase/CheckUpdateUseCase.kt
â”‚   â”‚   â”‚   â””â”€â”€ model/VersionInfo.kt
â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/UpdateRepository.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ manager/UpdateManager.kt
â”‚   â”‚   â”‚   â””â”€â”€ remote/UpdateService.kt
â”‚   â”‚   â””â”€â”€ di/UpdateModule.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ voice/                      # è¯­éŸ³æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/IVoiceRepository.kt
â”‚   â”‚   â”‚   â””â”€â”€ usecase/PlayVoiceUseCase.kt
â”‚   â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/VoiceRepository.kt
â”‚   â”‚   â”‚   â””â”€â”€ manager/VoiceManager.kt
â”‚   â”‚   â””â”€â”€ di/VoiceModule.kt
â”‚   â”‚
â”‚   â””â”€â”€ support/                    # å®¢æœæ”¯æŒæ¨¡å—
â”‚       â”œâ”€â”€ domain/
â”‚       â”‚   â”œâ”€â”€ repository/ISupportRepository.kt
â”‚       â”‚   â””â”€â”€ usecase/CallForHelpUseCase.kt
â”‚       â”œâ”€â”€ data/
â”‚       â”‚   â”œâ”€â”€ repository/SupportRepository.kt
â”‚       â”‚   â””â”€â”€ remote/CallForHelpService.kt
â”‚       â””â”€â”€ di/SupportModule.kt
â”‚
â”œâ”€â”€ ğŸ”„ shared/                      # å…±äº«ç»„ä»¶å±‚
â”‚   â”œâ”€â”€ data/                       # å…±äº«æ•°æ®ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ model/                  # é€šç”¨æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ ApiResponse.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ CartItem.kt
â”‚   â”‚   â”‚   â””â”€â”€ NetworkState.kt
â”‚   â”‚   â”œâ”€â”€ interceptor/            # ç½‘ç»œæ‹¦æˆªå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthInterceptor.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ DeptIdInterceptor.kt
â”‚   â”‚   â”‚   â””â”€â”€ LoggingInterceptor.kt
â”‚   â”‚   â””â”€â”€ constant/               # å¸¸é‡å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ Constants.kt
â”‚   â”‚       â””â”€â”€ ApiEndpoints.kt
â”‚   â”œâ”€â”€ ui/                         # å…±äº«UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ component/              # é€šç”¨UIç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingDialog.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorToast.kt
â”‚   â”‚   â”‚   â””â”€â”€ StatusIndicator.kt
â”‚   â”‚   â”œâ”€â”€ base/                   # UIåŸºç¡€ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseActivity.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseFragment.kt
â”‚   â”‚   â”‚   â””â”€â”€ BaseViewModel.kt
â”‚   â”‚   â”œâ”€â”€ theme/                  # ä¸»é¢˜æ ·å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ Colors.kt
â”‚   â”‚   â”‚   â”œâ”€â”€ Typography.kt
â”‚   â”‚   â”‚   â””â”€â”€ Dimensions.kt
â”‚   â”‚   â””â”€â”€ extension/              # UIæ‰©å±•å‡½æ•°
â”‚   â”‚       â”œâ”€â”€ ViewExtensions.kt
â”‚   â”‚       â””â”€â”€ ContextExtensions.kt
â”‚   â””â”€â”€ utils/                      # å·¥å…·ç±»
â”‚       â”œâ”€â”€ DateUtils.kt
â”‚       â”œâ”€â”€ FormatUtils.kt
â”‚       â”œâ”€â”€ ValidationUtils.kt
â”‚       â””â”€â”€ PermissionUtils.kt
â”‚
â”œâ”€â”€ ğŸ“± platform/                    # Androidå¹³å°å±‚
â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â””â”€â”€ MyApplication.kt        # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ activity/                   # ä¸»è¦Activity
â”‚   â”‚   â”œâ”€â”€ MainActivity.kt
â”‚   â”‚   â”œâ”€â”€ SplashActivity.kt
â”‚   â”‚   â””â”€â”€ SettingActivity.kt
â”‚   â”œâ”€â”€ service/                    # ç³»ç»ŸæœåŠ¡
â”‚   â”‚   â””â”€â”€ NetworkMonitorService.kt
â”‚   â”œâ”€â”€ receiver/                   # å¹¿æ’­æ¥æ”¶å™¨
â”‚   â”‚   â””â”€â”€ BootReceiver.kt
â”‚   â””â”€â”€ notification/               # é€šçŸ¥ç®¡ç†
â”‚       â””â”€â”€ NotificationManager.kt
â”‚
â””â”€â”€ ğŸ”§ di/                          # ä¾èµ–æ³¨å…¥é…ç½®
    â”œâ”€â”€ CoreModule.kt               # æ ¸å¿ƒæ¨¡å—æ³¨å…¥
    â”œâ”€â”€ NetworkModule.kt            # ç½‘ç»œæ¨¡å—æ³¨å…¥
    â”œâ”€â”€ FeatureModule.kt            # åŠŸèƒ½æ¨¡å—èšåˆ
    â””â”€â”€ PlatformModule.kt           # å¹³å°æ¨¡å—æ³¨å…¥
```

![image-20250621155318108](../../_pic_/image-20250621155318108.png)