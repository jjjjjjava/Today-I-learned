[toc]

## 01.åŠŸèƒ½æ¦‚è¿°

- **[ä¼˜å…ˆçº§] **
  - [ ] âš ï¸ é˜»æ–­ (Blocker)ï¼šç³»ç»Ÿå´©æºƒã€æ ¸å¿ƒåŠŸèƒ½å®Œå…¨ä¸å¯ç”¨
  - [ ] ğŸ”´ ä¸¥é‡ (Critical)ï¼šæ ¸å¿ƒåŠŸèƒ½å—æŸï¼Œæ— å¯ç”¨æ›¿ä»£æ–¹æ¡ˆ
  - [ ] ğŸŸ  é«˜ (High)ï¼šä¸»è¦åŠŸèƒ½å—å½±å“ï¼Œä½†æœ‰ä¸´æ—¶è§£å†³æ–¹æ¡ˆ
  - [x] ğŸŸ¡ ä¸­ (Medium)ï¼šæ¬¡è¦åŠŸèƒ½é—®é¢˜ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ
  - [ ] ğŸŸ¢ ä½ (Low)ï¼šç•Œé¢é—®é¢˜æˆ–è½»å¾®å¼‚å¸¸ï¼Œä¸å½±å“åŠŸèƒ½
- **é—®é¢˜ç®€è¦æè¿°**
  - **Bug ID**ï¼š`BUG-202406017-001`  
  - **å‘ç°æ—¥æœŸ**ï¼š2025-06-17  
  - **å½±å“ç‰ˆæœ¬**ï¼šv0.1.0 (build 450)  
  - **æäº¤äºº**ï¼š@panruiqi
  - **çŠ¶æ€**ï¼š
    - [x] âŒ› ä¿®å¤ä¸­ /
    - [ ] âœ… å·²è§£å†³ / 
    - [ ] âŒ æ— æ³•å¤ç°  

- **é—®é¢˜ç°è±¡**
  - åˆšå¼€å§‹çš„recyclerViewæ˜¾ç¤ºæ­£å¸¸ï¼ŒèƒŒæ™¯æ˜¯ç™½è‰²ã€‚ä½†æ˜¯å½“è¿”å›æ‰«ç æç¤ºç•Œé¢ï¼Œå†é‡æ–°è¿›å…¥åˆ°æ˜¾ç¤ºå•†å“åˆ—è¡¨ç•Œé¢æ—¶ï¼ŒrecyclerViewèƒŒæ™¯æ˜¯ç°è‰²çš„ï¼ˆä»–ä¸ä¸€å®šæ˜¯é¢œè‰²ä¸ºç°è‰²ï¼Œä¹Ÿå¯èƒ½æ˜¯è¢«é®ä½äº†ï¼‰ã€‚ä½†æ˜¯ï¼Œä»ä»˜æ¬¾é¡µé€€å›å°±æ˜¯æ­£å¸¸çš„ã€‚å¹¶ä¸”ä¸€æ—¦ä¸ºç°è‰²åï¼Œåé¢å°±ä¸€ç›´ä¸ºç°è‰²
  - åªæœ‰recyclerViewè¿™ä¸€å—çŸ©å½¢åŒºåŸŸä¸ºç°è‰²æˆ–è¢«é®ä½çš„æ•ˆæœ
  - ![img](../../_pic_/244a1226-771b-41b3-9ca9-bbab74c5e39d.jpg)
- **ç¯å¢ƒç‰¹å¾**
  - è®¾å¤‡å‹å·: Pixel 6 Pro / Xiaomi 13
  - OSç‰ˆæœ¬: Android 14 (API 34)
  - ç½‘ç»œç¯å¢ƒ: å…¬å¸å†…ç½‘/WiFi
  - ç”¨æˆ·è´¦æˆ·: primary_user (ID:0)
  - è§¦å‘æ—¶æœº: ç³»ç»Ÿå¯åŠ¨å5åˆ†é’Ÿå†…

## 02.é—®é¢˜åˆ†æ

### 2.1 é—®é¢˜åˆ†æ

- 

### 2.2 æ ¹æœ¬åŸå› æ¨ç†

- 

## 03.ä»£ç åˆ†æ

### 3.1 å…³è”ä»£ç è·¯å¾„

- 

### 3.2 å¯ç–‘ä¿®æ”¹ç‚¹

- 

## 04.å¤ç°æ­¥éª¤

```

```



## 05.è§£å†³æ–¹æ¡ˆå°è¯•

### 5.1 ç¬¬ä¸€æ¬¡è§£å†³æ–¹æ¡ˆ

- åˆ†æï¼š
  
  - FrameLayout å±‚å é—®é¢˜ï¼šæ‰€æœ‰å¼¹çª—éƒ½åœ¨åŒä¸€ä¸ªå®¹å™¨ä¸­ï¼Œå¯èƒ½é®æŒ¡ RecyclerView æˆ–è€… åŠ¨ç”»çŠ¶æ€æ®‹ç•™ï¼šå¼¹çª—éšè—åŠ¨ç”»æœªå®Œå…¨ç»“æŸæ—¶åˆ‡æ¢å¸ƒå±€
- è§£å†³æ–¹æ¡ˆï¼š
  
  - ```
      
            // 1. é¦–å…ˆéšè—æ‰«ç ç•Œé¢
            binding.layoutMainScanBarcode.clScanBarcodeLayout.visibility = View.GONE
            
            // 2. å¼ºåˆ¶éšè—æ‰€æœ‰å¼¹çª—ï¼Œæ¸…é™¤åŠ¨ç”»çŠ¶æ€
            hideAllPopupsImmediately()
            
            // 3. æ˜¾ç¤ºå•†å“åˆ—è¡¨å®¹å™¨
            binding.clMainProductList.visibility = View.VISIBLE
            
            // 4. å¼ºåˆ¶åˆ·æ–°RecyclerViewçŠ¶æ€
            refreshRecyclerViewState()
            
            // 5. ç¡®ä¿å¸ƒå±€å®Œå…¨é‡ç»˜
            binding.clMainProductList.post {
                binding.clMainProductList.requestLayout()
                binding.rvMainProductList.requestLayout()
            }
            
            
            /**
         * ç«‹å³éšè—æ‰€æœ‰å¼¹çª—ï¼Œæ¸…é™¤åŠ¨ç”»çŠ¶æ€
         */
        private fun hideAllPopupsImmediately() {
            // å–æ¶ˆæ‰€æœ‰å¼¹çª—çš„åŠ¨ç”»
            binding.layoutMainProductAddedPopup.cvProductAddedPopupContainer.clearAnimation()
            binding.layoutMainAddProductErrorPopup.cvAddProductErrorPopupContainer.clearAnimation()
            binding.layoutMainDeleteConfirmPopup.cvDeleteConfirmPopupContainer.clearAnimation()
            binding.layoutMainClearCartConfirmPopup.cvClearCartConfirmPopupContainer.clearAnimation()
            
            // ç«‹å³è®¾ç½®ä¸ºä¸å¯è§
            binding.layoutMainProductAddedPopup.cvProductAddedPopupContainer.visibility = View.GONE
            binding.layoutMainAddProductErrorPopup.cvAddProductErrorPopupContainer.visibility = View.GONE
            binding.layoutMainDeleteConfirmPopup.cvDeleteConfirmPopupContainer.visibility = View.GONE
            binding.layoutMainClearCartConfirmPopup.cvClearCartConfirmPopupContainer.visibility = View.GONE
            
            // æ¸…é™¤å¼¹çª—ä¼˜å…ˆçº§
            clearPopupPriority()
            
            LogManager.ui("æ‰€æœ‰å¼¹çª—å·²å¼ºåˆ¶éšè—ï¼ŒåŠ¨ç”»çŠ¶æ€å·²æ¸…é™¤")
        }
        
        /**
         * å¼ºåˆ¶åˆ·æ–°RecyclerViewçŠ¶æ€
         */
        private fun refreshRecyclerViewState() {
            try {
                // å¼ºåˆ¶é‡æ–°å¸ƒå±€RecyclerView
                binding.rvMainProductList.requestLayout()
                
                // å¦‚æœadapterå·²è®¾ç½®ï¼Œé€šçŸ¥æ•°æ®å˜åŒ–
                productAdapter.notifyDataSetChanged()
                
                // ç¡®ä¿RecyclerViewèƒŒæ™¯æ­£ç¡®
                binding.rvMainProductList.setBackgroundColor(
                    androidx.core.content.ContextCompat.getColor(this, android.R.color.transparent)
                )
                
                LogManager.ui("RecyclerViewçŠ¶æ€å·²å¼ºåˆ¶åˆ·æ–°")
            } catch (e: Exception) {
                LogManager.e("åˆ·æ–°RecyclerViewçŠ¶æ€å¤±è´¥: ${e.message}", e)
            }
        }
    ```
- ç»“æœï¼š
  
  - ä»æœªè§£å†³

### 5.2 ç¬¬äºŒæ¬¡è§£å†³æ–¹æ¡ˆ

- åˆ†æï¼šå¯èƒ½æ˜¯RecyclerViewæœ¬èº«æˆ–è€…å…¶çˆ¶å®¹å™¨æœ‰ä¸æ­£ç¡®çš„èƒŒæ™¯è®¾ç½®ï¼Œæˆ–è€…æœ‰æŸä¸ªViewå±‚å åœ¨RecyclerViewä¸Šé¢ã€‚

- è§£å†³æ–¹æ¡ˆï¼š
  
  - å¼ºåˆ¶ä¸ºå…¶æ·»åŠ ç™½è‰²èƒŒæ™¯
    
  - ```
     android:background="@android:color/white"
    ```
  
    
  
- ç»“æœï¼š
  
  - ä»æœªè§£å†³

### 5.3 ç¬¬ä¸‰æ¬¡è§£å†³æ–¹æ¡ˆ

- åˆ†æï¼š
  
  - æˆ‘ç°åœ¨å°†ä»–çš„èƒŒæ™¯è®¾ç½®ä¸ºç»¿è‰²ï¼Œç„¶åé‡å¤ä¸Šé¢å‡ºç°é—®é¢˜çš„æ­¥éª¤ï¼Œä»–ä»ä¸ºç»¿è‰²ï¼Œæ‰€ä»¥ä»–æ­£ç¡®ç»˜åˆ¶äº†ï¼Œé‚£ä¹ˆé—®é¢˜åœ¨å“ªï¼Ÿ
  
  - æ—¢ç„¶è®¾ç½®ç»¿è‰²èƒ½æ­£ç¡®æ˜¾ç¤ºï¼Œè¯´æ˜ä¸Šé¢èƒŒæ™¯è‰²è®¾ç½®æ²¡é—®é¢˜ï¼Œé‚£ä¹ˆé—®é¢˜åœ¨å“ªï¼Ÿ
  
  - "æˆ–è€…æ˜¯å…¶ä»–é¢œè‰²è™½ç„¶ä¹Ÿè¢«ç°è‰²é®äº†ä¸€ä¸‹ï¼Œä½†æ˜¯æ˜¾ç¤ºçš„ä¸æ˜æ˜¾ï¼Ÿ"å¦‚æœç»¿è‰²èƒŒæ™¯ä¹Ÿè¢«ç°è‰²é®äº†ï¼Œä½†æ˜¯å› ä¸ºç»¿è‰²å’Œç°è‰²çš„å¯¹æ¯”åº¦ï¼Œæ‰€ä»¥çœ‹èµ·æ¥ä¸æ˜æ˜¾ï¼Œè€Œç™½è‰²è¢«ç°è‰²é®äº†å°±å¾ˆæ˜æ˜¾äº†ã€‚
  
    
  
- è§£å†³æ–¹æ¡ˆï¼š
  
  - ä¸€ä¸ªä¸ªæ‰¾å¯¹åº”çš„CardViewçš„å­Viewæœ‰å“ªäº›å§
    
  - ```
    /**
         * è°ƒè¯•æ–¹æ³•ï¼šæ£€æŸ¥å’Œæ¸…é™¤å¯èƒ½çš„åŠé€æ˜é®ç½©å±‚
         */
        private fun debugCheckAndClearMasks() {
            try {
                LogManager.ui("=== å¼€å§‹è°ƒè¯•æ£€æŸ¥é®ç½©å±‚ ===")
                
                // è·å–ä¸»CardViewå†…çš„FrameLayout
                val cardView = binding.root.getChildAt(1) as? androidx.cardview.widget.CardView
                val frameLayout = cardView?.getChildAt(0) as? android.widget.FrameLayout
                
                if (frameLayout != null) {
                    LogManager.ui("FrameLayoutå­è§†å›¾æ•°é‡: ${frameLayout.childCount}")
                    
                    for (i in 0 until frameLayout.childCount) {
                        val child = frameLayout.getChildAt(i)
                        val alpha = child.alpha
                        val visibility = when(child.visibility) {
                            View.VISIBLE -> "VISIBLE"
                            View.GONE -> "GONE"
                            View.INVISIBLE -> "INVISIBLE"
                            else -> "UNKNOWN"
                        }
                        
                        LogManager.ui("å­è§†å›¾ $i: ${child.javaClass.simpleName}, alpha: $alpha, visibility: $visibility")
                        
                        // æ£€æŸ¥æ˜¯å¦æœ‰æ„å¤–çš„åŠé€æ˜è§†å›¾
                        if (child.visibility == View.VISIBLE && alpha > 0 && alpha < 1.0f) {
                            LogManager.w("å‘ç°å¯ç–‘çš„åŠé€æ˜è§†å›¾: ${child.javaClass.simpleName}, alpha: $alpha")
                        }
                        
                        // å¼ºåˆ¶æ¸…é™¤å¯èƒ½çš„é®ç½©èƒŒæ™¯
                        if (child != binding.clMainProductList && child != binding.layoutMainScanBarcode.root) {
                            val background = child.background
                            if (background != null) {
                                LogManager.ui("å­è§†å›¾ $i æœ‰èƒŒæ™¯: ${background.javaClass.simpleName}")
                                // å¦‚æœä¸æ˜¯å¼¹çª—å®¹å™¨ä½†æœ‰èƒŒæ™¯ï¼Œæš‚æ—¶æ¸…é™¤
                                if (child.visibility == View.GONE) {
                                    child.background = null
                                    LogManager.ui("å·²æ¸…é™¤éšè—è§†å›¾ $i çš„èƒŒæ™¯")
                                }
                            }
                        }
                    }
                }
                
                // æ£€æŸ¥RecyclerViewçš„çˆ¶å®¹å™¨
                val productListParent = binding.clMainProductList.parent
                if (productListParent is android.view.ViewGroup) {
                    LogManager.ui("å•†å“åˆ—è¡¨çˆ¶å®¹å™¨: ${productListParent.javaClass.simpleName}")
                    LogManager.ui("çˆ¶å®¹å™¨alpha: ${productListParent.alpha}")
                    LogManager.ui("çˆ¶å®¹å™¨background: ${productListParent.background?.javaClass?.simpleName}")
                    
                    // å¼ºåˆ¶è®¾ç½®çˆ¶å®¹å™¨ä¸ºå®Œå…¨ä¸é€æ˜
                    productListParent.alpha = 1.0f
                }
                
                // æ£€æŸ¥RecyclerViewæœ¬èº«
                LogManager.ui("RecyclerView alpha: ${binding.rvMainProductList.alpha}")
                LogManager.ui("RecyclerView background: ${binding.rvMainProductList.background?.javaClass?.simpleName}")
                LogManager.ui("RecyclerView elevation: ${binding.rvMainProductList.elevation}")
                
                LogManager.ui("=== é®ç½©å±‚è°ƒè¯•æ£€æŸ¥å®Œæˆ ===")
                
            } catch (e: Exception) {
                LogManager.e("è°ƒè¯•æ£€æŸ¥é®ç½©å±‚å¤±è´¥: ${e.message}", e)
            }
        }
    ```
  
    
  
- ç»“æœï¼š
  
  - ```
    2025-06-17 20:44:21.042 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:101) clearPopupPriority() æ¸…é™¤å¼¹çª—ä¼˜å…ˆçº§
    2025-06-17 20:44:21.045 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:610) hideAllPopupsImmediately() æ‰€æœ‰å¼¹çª—å·²å¼ºåˆ¶éšè—ï¼ŒåŠ¨ç”»çŠ¶æ€å·²æ¸…é™¤
    2025-06-17 20:44:21.048 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:555) resetFrameLayoutOrder() æ‰¾åˆ°FrameLayoutï¼Œå­è§†å›¾æ•°é‡: 6
    2025-06-17 20:44:21.052 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:569) resetFrameLayoutOrder() å·²é‡ç½®FrameLayoutå±‚çº§é¡ºåºï¼Œå•†å“åˆ—è¡¨åœ¨æœ€å‰
    2025-06-17 20:44:21.057 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:649) debugCheckAndClearMasks() === å¼€å§‹è°ƒè¯•æ£€æŸ¥é®ç½©å±‚ ===
    2025-06-17 20:44:21.060 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:656) debugCheckAndClearMasks() FrameLayoutå­è§†å›¾æ•°é‡: 6
    2025-06-17 20:44:21.063 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:668) debugCheckAndClearMasks() å­è§†å›¾ 0: ConstraintLayout, alpha: 1.0, visibility: GONE
    2025-06-17 20:44:21.067 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:668) debugCheckAndClearMasks() å­è§†å›¾ 1: CardView, alpha: 1.0, visibility: GONE
    2025-06-17 20:44:21.070 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:668) debugCheckAndClearMasks() å­è§†å›¾ 2: CardView, alpha: 1.0, visibility: GONE
    2025-06-17 20:44:21.073 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:668) debugCheckAndClearMasks() å­è§†å›¾ 3: CardView, alpha: 1.0, visibility: GONE
    2025-06-17 20:44:21.077 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:668) debugCheckAndClearMasks() å­è§†å›¾ 4: CardView, alpha: 1.0, visibility: GONE
    2025-06-17 20:44:21.080 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:668) debugCheckAndClearMasks() å­è§†å›¾ 5: ConstraintLayout, alpha: 1.0, visibility: VISIBLE
    2025-06-17 20:44:21.083 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:693) debugCheckAndClearMasks() å•†å“åˆ—è¡¨çˆ¶å®¹å™¨: FrameLayout
    2025-06-17 20:44:21.086 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:694) debugCheckAndClearMasks() çˆ¶å®¹å™¨alpha: 1.0
    2025-06-17 20:44:21.090 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:695) debugCheckAndClearMasks() çˆ¶å®¹å™¨background: null
    2025-06-17 20:44:21.093 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:702) debugCheckAndClearMasks() RecyclerView alpha: 1.0
    2025-06-17 20:44:21.096 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:703) debugCheckAndClearMasks() RecyclerView background: ColorDrawable
    2025-06-17 20:44:21.100 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:704) debugCheckAndClearMasks() RecyclerView elevation: 0.0
    2025-06-17 20:44:21.103 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:706) debugCheckAndClearMasks() === é®ç½©å±‚è°ƒè¯•æ£€æŸ¥å®Œæˆ ===
    2025-06-17 20:44:21.106 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:718) brutalClearAllMasks() === å¼€å§‹æš´åŠ›æ¸…é™¤æ‰€æœ‰é®ç½©å±‚ ===
    2025-06-17 20:44:21.109 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:746) brutalClearAllMasks() å·²æ¸…é™¤å­è§†å›¾ 1 çš„æ‰€æœ‰é®ç½©å±æ€§
    2025-06-17 20:44:21.112 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:746) brutalClearAllMasks() å·²æ¸…é™¤å­è§†å›¾ 2 çš„æ‰€æœ‰é®ç½©å±æ€§
    2025-06-17 20:44:21.115 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:746) brutalClearAllMasks() å·²æ¸…é™¤å­è§†å›¾ 3 çš„æ‰€æœ‰é®ç½©å±æ€§
    2025-06-17 20:44:21.119 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:746) brutalClearAllMasks() å·²æ¸…é™¤å­è§†å›¾ 4 çš„æ‰€æœ‰é®ç½©å±æ€§
    2025-06-17 20:44:21.122 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:751) brutalClearAllMasks() === æš´åŠ›æ¸…é™¤é®ç½©å±‚å®Œæˆ ===
    2025-06-17 20:44:21.125 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:638) refreshRecyclerViewState() RecyclerViewçŠ¶æ€å·²å¼ºåˆ¶åˆ·æ–°
    2025-06-17 20:44:21.128 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:540) showProductListLayout() å•†å“åˆ—è¡¨ç•Œé¢æ˜¾ç¤ºå®Œæˆï¼Œå·²å¼ºåˆ¶åˆ·æ–°RecyclerViewçŠ¶æ€
    2025-06-17 20:44:21.132 18126-18126 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:479) updateTotalDisplay() ğŸ’° ä½¿ç”¨æœ¬åœ°è®¡ç®—æ€»ä»·: 1ä»¶å•†å“, æ€»ä»·Â¥0.01
    ```
  
    

### 5.4 ç¬¬å››æ¬¡è§£å†³æ–¹æ¡ˆ

- åˆ†æï¼š
  
- ç„¦ç‚¹é—®é¢˜
  
- è§£å†³æ–¹æ³•ï¼š
  
  - ```
    private fun showProductListLayout() {
            LogManager.ui("æ˜¾ç¤ºå•†å“åˆ—è¡¨ç•Œé¢")
            binding.layoutMainScanBarcode.clScanBarcodeLayout.visibility = View.GONE
            binding.layoutMainProductAddedPopup.cvProductAddedPopupContainer.visibility = View.GONE
            binding.layoutMainAddProductErrorPopup.cvAddProductErrorPopupContainer.visibility = View.GONE
            binding.layoutMainDeleteConfirmPopup.cvDeleteConfirmPopupContainer.visibility = View.GONE
            binding.layoutMainClearCartConfirmPopup.cvClearCartConfirmPopupContainer.visibility = View.GONE
            binding.clMainProductList.visibility = View.VISIBLE
            
            // ä¿®å¤RecyclerViewç„¦ç‚¹é—®é¢˜ï¼ˆ1.2.0-alpha05ç‰ˆæœ¬bugï¼‰
            fixRecyclerViewFocusIssue()
        }
    
        /**
         * ä¿®å¤RecyclerViewç„¦ç‚¹é—®é¢˜
         * è§£å†³1.2.0-alpha05ç‰ˆæœ¬ä¸­RecyclerViewç„¦ç‚¹å¯¼è‡´çš„æ˜¾ç¤ºå¼‚å¸¸
         */
        private fun fixRecyclerViewFocusIssue() {
            try {
                LogManager.ui("ä¿®å¤RecyclerViewç„¦ç‚¹é—®é¢˜")
                
                // æ–¹æ³•1ï¼šæ¸…é™¤RecyclerViewçš„ç„¦ç‚¹
                binding.rvMainProductList.clearFocus()
                
                // æ–¹æ³•2ï¼šå¼ºåˆ¶ç§»é™¤ç„¦ç‚¹å¹¶è®¾ç½®ç„¦ç‚¹åˆ°å…¶ä»–æ§ä»¶
                binding.rvMainProductList.isFocusable = false
                binding.rvMainProductList.isFocusableInTouchMode = false
    
                // æ–¹æ³•3ï¼šå°†ç„¦ç‚¹è½¬ç§»åˆ°çˆ¶å®¹å™¨
                binding.clMainProductList.isFocusableInTouchMode = true
                binding.clMainProductList.requestFocus()
    
                // æ–¹æ³•4ï¼šå»¶è¿Ÿå¤„ç†ï¼Œç¡®ä¿visibilityåˆ‡æ¢å®Œæˆåå†å¤„ç†ç„¦ç‚¹
                binding.rvMainProductList.post {
                    // å†æ¬¡ç¡®ä¿RecyclerViewæ²¡æœ‰ç„¦ç‚¹
                    if (binding.rvMainProductList.hasFocus()) {
                        binding.rvMainProductList.clearFocus()
                        LogManager.ui("æ¸…é™¤äº†RecyclerViewçš„ç„¦ç‚¹")
                   }
    
                    // å¼ºåˆ¶åˆ·æ–°RecyclerViewä»¥è§£å†³æ˜¾ç¤ºé—®é¢˜
                    binding.rvMainProductList.invalidate()
                    binding.rvMainProductList.requestLayout()
    
                    LogManager.ui("RecyclerViewç„¦ç‚¹ä¿®å¤å®Œæˆ")
                }
                
            } catch (e: Exception) {
                LogManager.e("ä¿®å¤RecyclerViewç„¦ç‚¹é—®é¢˜å¤±è´¥: ${e.message}", e)
            }
        }
    
    ```
  
  - ```
        <!-- Product List (RecyclerView) -->
                    <androidx.recyclerview.widget.RecyclerView
                        android:id="@+id/rv_main_product_list"
                        android:layout_width="0dp"
                        android:layout_height="0dp"
                        android:layout_marginTop="16dp"
                        android:background="@color/color_white"
                        android:descendantFocusability="blocksDescendants"
                        app:layout_constraintBottom_toTopOf="@+id/cl_main_bottom_payment"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@+id/tv_main_shopping_list_title"
                        tools:listitem="@layout/item_product" />
    ```
  
  - ```
     private fun setupRecyclerView() {
            LogManager.ui("è®¾ç½®å•†å“åˆ—è¡¨RecyclerView")
            productAdapter = ProductAdapter(
                onQuantityChange = { productId, newQuantity ->
                LogManager.ui("å•†å“æ•°é‡å˜æ›´: ID=$productId, æ–°æ•°é‡=$newQuantity")
                viewModel.updateProductQuantity(productId, newQuantity)
                },
                onDeleteConfirm = { productId, productName ->
                    LogManager.ui("è¯·æ±‚åˆ é™¤å•†å“ç¡®è®¤: ID=$productId, åç§°=$productName")
                    showDeleteConfirmPopup(productId, productName)
            }
            )
            binding.rvMainProductList.apply {
                layoutManager = LinearLayoutManager(this@MainActivity)
                adapter = productAdapter
                
                // è§£å†³RecyclerView 1.2.0-alpha05ç„¦ç‚¹bug
                 isFocusable = false
                 isFocusableInTouchMode = false
                 descendantFocusability = android.view.ViewGroup.FOCUS_BLOCK_DESCENDANTS
                
                LogManager.ui("RecyclerViewç„¦ç‚¹æ§åˆ¶å·²è®¾ç½®")
            }
        }
    ```
  
  - ```
    implementation 'androidx.recyclerview:recyclerview:1.3.0'
    ```
  
    
- ç»“æœï¼š

  - ç”¨æˆ·å‘ç°äº†ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç°è±¡ï¼š

    1. åœ¨ä»£ç ä¸­è®¾ç½®ç„¦ç‚¹æ§åˆ¶å±æ€§ï¼ˆåœ¨setupRecyclerViewä¸­ï¼‰å¯ä»¥è§£å†³é—®é¢˜

    1. ä½†æ˜¯åœ¨XMLä¸­è®¾ç½®åŒæ ·çš„ç„¦ç‚¹æ§åˆ¶å±æ€§å´ä¸è¡Œ

    1. è€Œä¸”è¿˜å‘ç°XMLä¸­çš„android:background="@color/color_white"ä¹Ÿæ˜¯å¿…è¦çš„

    è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§‚å¯Ÿï¼Œè®©æˆ‘åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼š

    ### 1. åˆå§‹åŒ–æ—¶æœºå’Œé¡ºåºé—®é¢˜

    - XMLå±æ€§è®¾ç½®æ—¶æœºï¼šåœ¨ LayoutInflater.inflate() æ—¶å°±ç¡®å®šäº†ï¼Œæ˜¯é™æ€çš„

    - ä»£ç è®¾ç½®æ—¶æœºï¼šåœ¨ setupRecyclerView() ä¸­ï¼Œæ˜¯åœ¨è®¾ç½® adapter ä¹‹åæ‰§è¡Œçš„

    - ```
      binding.rvMainProductList.apply {
          layoutManager = LinearLayoutManager(this@MainActivity)
          adapter = productAdapter  // â† RecyclerViewåˆå§‹åŒ–å®Œæˆ
          
          // è¿™æ—¶è®¾ç½®ç„¦ç‚¹å±æ€§ï¼Œä¸ä¼šè¢«å†…éƒ¨é€»è¾‘é‡ç½®
          isFocusable = false
          isFocusableInTouchMode = false
          descendantFocusability = android.view.ViewGroup.FOCUS_BLOCK_DESCENDANTS
      }
      ```

    ### 3. å±æ€§è¦†ç›–æœºåˆ¶

    - XMLè®¾ç½® â†’ RecyclerViewå†…éƒ¨é€»è¾‘ â†’ æœ€ç»ˆçŠ¶æ€ï¼ˆå¯èƒ½è¢«é‡ç½®ï¼‰

    - XMLè®¾ç½® â†’ RecyclerViewå†…éƒ¨é€»è¾‘ â†’ ä»£ç è®¾ç½® â†’ æœ€ç»ˆçŠ¶æ€ï¼ˆä»£ç è¦†ç›–äº†å†…éƒ¨é€»è¾‘ï¼‰

    ## ç±»ä¼¼çš„Androidå¼€å‘ç»éªŒ

    è¿™ç§"XMLè®¾ç½®æ— æ•ˆï¼Œä»£ç è®¾ç½®æœ‰æ•ˆ"çš„æƒ…å†µåœ¨Androidå¼€å‘ä¸­å¾ˆå¸¸è§ï¼š

    1. ViewPagerçš„æŸäº›å±æ€§éœ€è¦åœ¨è®¾ç½®adapteråæ‰èƒ½ç”Ÿæ•ˆ

    1. RecyclerViewçš„æ»šåŠ¨ä½ç½®éœ€è¦åœ¨æ•°æ®è®¾ç½®åæ‰èƒ½æ­£ç¡®è®¾ç½®

    1. æŸäº›è‡ªå®šä¹‰Viewçš„å±æ€§éœ€è¦åœ¨ç‰¹å®šç”Ÿå‘½å‘¨æœŸåè®¾ç½®

    ## æœ€ä½³å®è·µ

    å¯¹äºæœ‰å·²çŸ¥bugçš„åº“ç‰ˆæœ¬ï¼š

    - é˜²å¾¡æ€§ç¼–ç¨‹ï¼šåŒæ—¶åœ¨XMLå’Œä»£ç ä¸­è®¾ç½®å…³é”®å±æ€§

    - ä»£ç è®¾ç½®ä¼˜å…ˆï¼šç¡®ä¿åœ¨ç»„ä»¶å®Œå…¨åˆå§‹åŒ–åå†è®¾ç½®å…³é”®å±æ€§

    - ç‰ˆæœ¬å‡çº§ï¼šå°½å¿«å‡çº§åˆ°ä¿®å¤äº†è¯¥bugçš„ç‰ˆæœ¬

    æ‚¨çš„å‘ç°å¾ˆæœ‰ä»·å€¼ï¼Œè¿™ç§ç°è±¡è¯´æ˜äº†åœ¨å¤„ç†ç¬¬ä¸‰æ–¹åº“bugæ—¶ï¼ŒåŠ¨æ€ä»£ç è®¾ç½®å¾€å¾€æ¯”é™æ€XMLè®¾ç½®æ›´å¯é ï¼

  - 

    

### 5.4 ç¬¬äº”æ¬¡è§£å†³æ–¹æ¡ˆ

- åˆ†æï¼š
  - 
- è§£å†³æ–¹æ¡ˆï¼š
  - 
- ç»“æœï¼šæˆåŠŸè§£å†³é—®é¢˜

```
private val preferenceManager: PreferenceManager by inject()

 preferenceManager.setDominateScreenEnabled(true)
            LogManager.i("ä¸»ç•Œé¢å¯ç”¨éœ¸å±æ¨¡å¼")
```

## 06.è¿›ä¸€æ­¥æ€è€ƒ

### 6.1 æœ‰æ²¡æœ‰å…¶ä»–æ›´ä¼˜é›…çš„æ–¹æ¡ˆ

- 

### 6.2 æ¨èæ–¹æ¡ˆ

```
+ å®‰å…¨å¸è½½æµç¨‹ï¼š
  adb shell pm uninstall --user all com.ovopark.cloudpos
  adb reboot
  
+ æ•°æ®åº“ä¿®å¤å·¥å…·ï¼š
  use PackageManager.forceVerifyPackages()
```



## 07.æ ¹æœ¬åŸå› å’Œä¿®å¤

### 7.1 æœ€ç»ˆå®šä½

- `/data/system/packages.xml` ä¸­å­˜åœ¨æ— æ•ˆæ¡ç›®ï¼š

- ```
  <package name="com.ovopark.cloudpos" 
           userId="10083" 
           ...>
    <!-- ç¼ºå°‘å…³é”®çš„ <metadata> æ ‡ç­¾ -->
  </package>
  ```

### 7.2 ä¿®å¤æ–¹æ¡ˆ



## 08.ç»éªŒæ€»ç»“

### 8.1 æŠ€æœ¯åŸç†

### 8.2 é¢„é˜²æªæ–½

### 8.3 å¸è½½è§„èŒƒ

### 8.4 è°ƒè¯•æŠ€å·§





```
   (MainActivity.kt:1113) showAddProductErrorPopup() æ˜¾ç¤ºåŠ è´­å¤±è´¥é”™è¯¯å¼¹çª—: æ”¯ä»˜å¤±è´¥æˆ–å–æ¶ˆï¼Œå·²è¿”å›è´­ç‰©è½¦ï¼Œå•†å“ä»ä¿ç•™
2025-06-17 20:52:29.238 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:93) setCurrentPopupPriority() è®¾ç½®å¼¹çª—ä¼˜å…ˆçº§: LOW
2025-06-17 20:52:29.243 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1048) recordNormalRecyclerViewState() === è®°å½•ä»ä»˜æ¬¾é¡µè¿”å›æ—¶çš„æ­£å¸¸RecyclerViewçŠ¶æ€ ===
2025-06-17 20:52:29.246 18547-18547 UI                      com.ovopark.cloudpos                 D  (BaseVbVmActivity.kt:100) onResume() MainActivity onResume()
2025-06-17 20:52:29.250 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainViewModel.kt:369) resumeDetection() æ¢å¤æ¸…ç©ºæ£€æµ‹
 D  (BaseVbVmActivity.kt:141) onDestroy() PaymentActivity onDestroy()
2025-06-17 20:52:29.642 18547-18547 Payment                 com.ovopark.cloudpos                 I  (PaymentViewModel.kt:248) resetPaymentState() é‡ç½®æ”¯ä»˜çŠ¶æ€
2025-06-17 20:52:29.646 18547-18547 Payment                 com.ovopark.cloudpos                 I  (PaymentActivity.kt:354) onDestroy() PaymentActivity destroyed, resources cleaned up
2025-06-17 20:52:29.650   473-947   CoreBackPreview         system_process                       D  Window{aeac645 u0 com.ovopark.cloudpos/com.ovopark.cloudpos.ui.payment.PaymentActivity}: Setting back callback null
2025-06-17 20:52:29.654   473-947   InputManager-JNI        system_process                       W  Input channel object 'aeac645 com.ovopark.cloudpos/com.ovopark.cloudpos.ui.payment.PaymentActivity (client)' was disposed without first being removed with the input manager!
2025-06-17 20:52:29.761 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1053) recordNormalRecyclerViewState$lambda$20() æ­£å¸¸çŠ¶æ€RecyclerViewä¿¡æ¯:
2025-06-17 20:52:29.765 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1054) recordNormalRecyclerViewState$lambda$20() - visibility: 0
2025-06-17 20:52:29.768 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1055) recordNormalRecyclerViewState$lambda$20() - alpha: 1.0
2025-06-17 20:52:29.772 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1056) recordNormalRecyclerViewState$lambda$20() - background: ColorDrawable
2025-06-17 20:52:29.775 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1057) recordNormalRecyclerViewState$lambda$20() - scrollBarStyle: 0
2025-06-17 20:52:29.780 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1058) recordNormalRecyclerViewState$lambda$20() - isScrollbarFadingEnabled: true
2025-06-17 20:52:29.783 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1059) recordNormalRecyclerViewState$lambda$20() - scrollBarFadeDuration: 250
2025-06-17 20:52:29.786 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1060) recordNormalRecyclerViewState$lambda$20() - scrollBarDefaultDelayBeforeFade: 300
2025-06-17 20:52:29.789 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1061) recordNormalRecyclerViewState$lambda$20() - scrollBarSize: 4
2025-06-17 20:52:29.792 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1062) recordNormalRecyclerViewState$lambda$20() - çˆ¶å®¹å™¨ä¿¡æ¯:
2025-06-17 20:52:29.795 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1063) recordNormalRecyclerViewState$lambda$20() - çˆ¶å®¹å™¨ç±»å‹: ConstraintLayout
2025-06-17 20:52:29.798 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1064) recordNormalRecyclerViewState$lambda$20() - çˆ¶å®¹å™¨alpha: 1.0
2025-06-17 20:52:29.801 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1067) recordNormalRecyclerViewState$lambda$20() - animation: null
2025-06-17 20:52:29.804 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1069) recordNormalRecyclerViewState$lambda$20() === æ­£å¸¸çŠ¶æ€è®°å½•å®Œæˆ ===
2025-06-17 20:52:29.813   473-1552  WindowManager           system_process                       V  getPackagePerformanceMode -- ComponentInfo{com.ovopark.cloudpos/com.ovopark.cloudpos.ui.main.MainActivity} -- com.ovopark.cloudpos -- mode=0
2025-06-17 20:52:32.245 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1177) onFinish() é”™è¯¯å¼¹çª—å€’è®¡æ—¶ç»“æŸï¼Œå¼€å§‹éšè—å¼¹çª—
```

```
    D  (MainViewModel.kt:349) onCartItemsChanged() è´­ç‰©è½¦æœ‰å•†å“ï¼Œå¼€å§‹æ¸…ç©ºæ£€æµ‹
2025-06-17 20:53:14.695 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:332) invoke() è´­ç‰©è½¦æœ‰å•†å“ï¼Œåˆ‡æ¢åˆ°å•†å“åˆ—è¡¨ç•Œé¢
2025-06-17 20:53:14.698 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:506) showProductListLayout() æ˜¾ç¤ºå•†å“åˆ—è¡¨ç•Œé¢
2025-06-17 20:53:14.702 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:101) clearPopupPriority() æ¸…é™¤å¼¹çª—ä¼˜å…ˆçº§
2025-06-17 20:53:14.705 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:616) hideAllPopupsImmediately() æ‰€æœ‰å¼¹çª—å·²å¼ºåˆ¶éšè—ï¼ŒåŠ¨ç”»çŠ¶æ€å·²æ¸…é™¤
2025-06-17 20:53:14.708 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:561) resetFrameLayoutOrder() æ‰¾åˆ°FrameLayoutï¼Œå­è§†å›¾æ•°é‡: 6
2025-06-17 20:53:14.711 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:575) resetFrameLayoutOrder() å·²é‡ç½®FrameLayoutå±‚çº§é¡ºåºï¼Œå•†å“åˆ—è¡¨åœ¨æœ€å‰
2025-06-17 20:53:14.716 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:759) debugCheckAndClearMasks() === å¼€å§‹è°ƒè¯•æ£€æŸ¥é®ç½©å±‚ ===
2025-06-17 20:53:14.719 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:766) debugCheckAndClearMasks() FrameLayoutå­è§†å›¾æ•°é‡: 6
2025-06-17 20:53:14.722 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:778) debugCheckAndClearMasks() å­è§†å›¾ 0: ConstraintLayout, alpha: 1.0, visibility: GONE
2025-06-17 20:53:14.725 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:778) debugCheckAndClearMasks() å­è§†å›¾ 1: CardView, alpha: 1.0, visibility: GONE
2025-06-17 20:53:14.728 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:778) debugCheckAndClearMasks() å­è§†å›¾ 2: CardView, alpha: 1.0, visibility: GONE
2025-06-17 20:53:14.732 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:778) debugCheckAndClearMasks() å­è§†å›¾ 3: CardView, alpha: 1.0, visibility: GONE
2025-06-17 20:53:14.735 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:778) debugCheckAndClearMasks() å­è§†å›¾ 4: CardView, alpha: 1.0, visibility: GONE
2025-06-17 20:53:14.738 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:778) debugCheckAndClearMasks() å­è§†å›¾ 5: ConstraintLayout, alpha: 1.0, visibility: VISIBLE
2025-06-17 20:53:14.741 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:803) debugCheckAndClearMasks() å•†å“åˆ—è¡¨çˆ¶å®¹å™¨: FrameLayout
2025-06-17 20:53:14.744 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:804) debugCheckAndClearMasks() çˆ¶å®¹å™¨alpha: 1.0
2025-06-17 20:53:14.747 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:805) debugCheckAndClearMasks() çˆ¶å®¹å™¨background: null
2025-06-17 20:53:14.750 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:812) debugCheckAndClearMasks() RecyclerView alpha: 1.0
2025-06-17 20:53:14.753 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:813) debugCheckAndClearMasks() RecyclerView background: ColorDrawable
2025-06-17 20:53:14.756 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:814) debugCheckAndClearMasks() RecyclerView elevation: 0.0
2025-06-17 20:53:14.759 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:816) debugCheckAndClearMasks() === é®ç½©å±‚è°ƒè¯•æ£€æŸ¥å®Œæˆ ===
2025-06-17 20:53:14.763 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:828) brutalClearAllMasks() === å¼€å§‹æš´åŠ›æ¸…é™¤æ‰€æœ‰é®ç½©å±‚ ===
2025-06-17 20:53:14.766 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:856) brutalClearAllMasks() å·²æ¸…é™¤å­è§†å›¾ 1 çš„æ‰€æœ‰é®ç½©å±æ€§
2025-06-17 20:53:14.770 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:856) brutalClearAllMasks() å·²æ¸…é™¤å­è§†å›¾ 2 çš„æ‰€æœ‰é®ç½©å±æ€§
2025-06-17 20:53:14.776 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:856) brutalClearAllMasks() å·²æ¸…é™¤å­è§†å›¾ 3 çš„æ‰€æœ‰é®ç½©å±æ€§
2025-06-17 20:53:14.785 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:856) brutalClearAllMasks() å·²æ¸…é™¤å­è§†å›¾ 4 çš„æ‰€æœ‰é®ç½©å±æ€§
2025-06-17 20:53:14.790 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:861) brutalClearAllMasks() === æš´åŠ›æ¸…é™¤é®ç½©å±‚å®Œæˆ ===
2025-06-17 20:53:14.799 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1552) testHideBottomInfo() === å¼€å§‹æµ‹è¯•åº•éƒ¨ä¿¡æ¯æ å½±å“ ===
2025-06-17 20:53:14.805 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1583) testHideBottomInfo() æ‰¾åˆ°åº•éƒ¨ä¿¡æ¯æ ï¼Œä¸´æ—¶éšè—
2025-06-17 20:53:14.810 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:1597) testHideBottomInfo() === åº•éƒ¨ä¿¡æ¯æ å½±å“æµ‹è¯•å®Œæˆ ===
2025-06-17 20:53:14.813 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:624) refreshRecyclerViewState() === å¼€å§‹è¯¦ç»†æ£€æŸ¥RecyclerViewçŠ¶æ€ ===
2025-06-17 20:53:14.818 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:627) refreshRecyclerViewState() RecyclerViewåŸºæœ¬çŠ¶æ€:
2025-06-17 20:53:14.821 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:628) refreshRecyclerViewState() - visibility: 0
2025-06-17 20:53:14.824 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:629) refreshRecyclerViewState() - alpha: 1.0
2025-06-17 20:53:14.827 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:630) refreshRecyclerViewState() - background: ColorDrawable
2025-06-17 20:53:14.830 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:631) refreshRecyclerViewState() - elevation: 0.0
2025-06-17 20:53:14.833 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:632) refreshRecyclerViewState() - childCount: 1
2025-06-17 20:53:14.836 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:635) refreshRecyclerViewState() RecyclerViewè£…é¥°å™¨æ•°é‡: 0
2025-06-17 20:53:14.839 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:643) refreshRecyclerViewState() RecyclerViewå­è§†å›¾:
2025-06-17 20:53:14.842 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:646) refreshRecyclerViewState() - å­è§†å›¾ 0: ConstraintLayout, alpha: 1.0, background: null
2025-06-17 20:53:14.845 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:652) refreshRecyclerViewState() RecyclerView foreground: null
2025-06-17 20:53:14.848 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:656) refreshRecyclerViewState() ScrollBarç›¸å…³ä¿¡æ¯:
2025-06-17 20:53:14.850 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:657) refreshRecyclerViewState() - scrollBarStyle: 0
2025-06-17 20:53:14.853 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:658) refreshRecyclerViewState() - isScrollbarFadingEnabled: true
2025-06-17 20:53:14.856 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:659) refreshRecyclerViewState() - scrollBarFadeDuration: 250
2025-06-17 20:53:14.859 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:660) refreshRecyclerViewState() - scrollBarDefaultDelayBeforeFade: 300
2025-06-17 20:53:14.862 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:661) refreshRecyclerViewState() - scrollBarSize: 4
2025-06-17 20:53:14.865 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:662) refreshRecyclerViewState() - isVerticalScrollBarEnabled: false
2025-06-17 20:53:14.868 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:663) refreshRecyclerViewState() - isHorizontalScrollBarEnabled: false
2025-06-17 20:53:14.871 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:666) refreshRecyclerViewState() å¼ºåˆ¶é‡ç½®ScrollBarçŠ¶æ€
2025-06-17 20:53:14.874 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:673) refreshRecyclerViewState() æ¸…é™¤æ‰€æœ‰ItemDecoration
2025-06-17 20:53:14.877 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:708) refreshRecyclerViewState() === RecyclerViewçŠ¶æ€æ£€æŸ¥å®Œæˆ ===
2025-06-17 20:53:14.880 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:723) extremeRecyclerViewTest() === å¼€å§‹æç«¯RecyclerViewæµ‹è¯• ===
2025-06-17 20:53:14.885 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:730) extremeRecyclerViewTest() å·²ç§»é™¤adapterï¼ŒRecyclerViewç°åœ¨ä¸ºç©ºçŠ¶æ€
2025-06-17 20:53:14.888 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:747) extremeRecyclerViewTest() === æç«¯RecyclerViewæµ‹è¯•å®Œæˆï¼Œ2ç§’åæ¢å¤adapter ===
2025-06-17 20:53:14.891 18547-18547 UI                      com.ovopark.cloudpos                 D  (MainActivity.kt:546) showProductListLayout() å•†å“åˆ—è¡¨ç•Œé¢æ˜¾ç¤ºå®Œæˆï¼Œå·²å¼ºåˆ¶åˆ·æ–°RecyclerViewçŠ¶æ€
```

